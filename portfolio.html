<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DigiStrive Media — Portfolio & Case Studies</title>
  <meta name="description" content="DigiStrive Media — portfolio & case studies: SEO, paid, web and lead-generation wins with measurable results." />
  <meta name="keywords" content="digital marketing portfolio, seo case study, ppc results, web development, client success stories" />
  <link rel="icon" href="images/logo.png" type="image/png" />

  <!-- Organization JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"DigiStrive Media",
    "url":"https://digistrivemedia.com",
    "logo":"https://digistrivemedia.com/images/logo.png",
    "sameAs":["https://www.facebook.com/","https://www.instagram.com/"]
  }
  </script>

  <!-- ItemList JSON-LD (case studies) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ItemList",
    "name":"DigiStrive Media Case Studies",
    "itemListElement":[
      {"@type":"ListItem","position":1,"url":"https://www.a4realty.in/"},
      {"@type":"ListItem","position":2,"url":"https://nalnadcoffee.com/"},
      {"@type":"ListItem","position":3,"url":"https://www.sunbeesynergy.com/"},
      {"@type":"ListItem","position":4,"url":"#mastrolee"},
      {"@type":"ListItem","position":5,"url":"https://www.taitaicreamery.com/"},
      {"@type":"ListItem","position":6,"url":"https://nulifebehavioralhealth.com/"},
      {"@type":"ListItem","position":7,"url":"https://mindforgeinfotech.com/"},
      {"@type":"ListItem","position":8,"url":"https://ashwaeducationconsultancy.com/"}
    ]
  }
  </script>

  <style>
    :root{
      --bg:#f7fafc; --card:#fff; --accent:#0077ff; --accent2:#00c2d1;
      --muted:#555; --radius:14px; --maxw:1200px; --shadow:0 8px 30px rgba(0,0,0,0.06);
      --gap:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:#0b1720;-webkit-font-smoothing:antialiased;line-height:1.5}
    a{color:var(--accent);text-decoration:none}
    img{display:block;max-width:100%}

    .container{max-width:var(--maxw);margin:0 auto;padding:22px}

    /* skip link */
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:10px;top:10px;width:auto;height:auto;padding:8px 12px;background:#000;color:#fff;border-radius:6px;z-index:1000}

    /* Header */
    header{background:#fff;box-shadow:var(--shadow);position:sticky;top:0;z-index:60}
    .header-inner{display:flex;align-items:center;justify-content:space-between;padding:12px 20px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:44px;width:44px;border-radius:8px;object-fit:cover}
    nav ul{display:flex;gap:14px;list-style:none;margin:0;padding:0}
    nav a{display:inline-block;padding:8px 10px;border-radius:8px;font-weight:700;color:#0b1720}
    nav a.active{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff}

    /* Hero (dominant CTA) */
    .hero{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:56px 20px;text-align:center}
    .hero h1{font-size:30px;margin:0 0 10px}
    .hero p{margin:0 auto 18px;max-width:820px;color:rgba(255,255,255,0.95);font-size:17px}
    .hero .actions{display:inline-flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-block;padding:12px 18px;border-radius:10px;font-weight:800;cursor:pointer}
    .btn-primary{background:#fff;color:var(--accent);border:none}
    .btn-secondary{background:transparent;color:#fff;border:2px solid rgba(255,255,255,0.16)}

    /* Filters */
    .filters{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;padding:22px 0}
    .chip{padding:8px 14px;border-radius:999px;background:#fff;border:1px solid rgba(11,22,40,0.06);font-weight:700;cursor:pointer}
    .chip[aria-pressed="true"]{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;border-color:transparent;box-shadow:0 8px 26px rgba(10,132,255,0.12)}

    /* Case studies grid */
    .case-grid{display:grid;gap:var(--gap);grid-template-columns:repeat(auto-fit,minmax(320px,1fr));align-items:start}
    .case{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column;transition:transform .25s ease}
    .case:focus-within,.case:hover{transform:translateY(-6px)}
    .case .media{width:100%;aspect-ratio:16/9;overflow:hidden}
    .case .media img{width:100%;height:100%;object-fit:cover;display:block}
    .case-body{padding:16px;display:flex;flex-direction:column;gap:10px;flex:1}
    .badge{display:inline-block;background:#eef6ff;color:#023a7d;padding:6px 10px;border-radius:999px;font-weight:800;font-size:13px}
    .case h3{margin:0;font-size:18px}
    .muted{color:var(--muted)}
    .metrics{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .metric{background:#f1fbff;padding:8px 10px;border-radius:10px;font-weight:800;text-align:center;min-width:100px}

    .case .cta-row{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}

    /* Portfolio grid */
    .portfolio-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin-top:26px}
    .project{background:var(--card);border-radius:12px;box-shadow:var(--shadow);overflow:hidden;transition:transform .22s}
    .project:hover{transform:translateY(-6px)}
    .project img{width:100%;height:100%;object-fit:cover;aspect-ratio:16/9}
    .meta{padding:12px}
    .meta h4{margin:0;font-size:16px}
    .tags{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
    .tag{background:#f2f8ff;color:#023a7d;padding:6px 8px;border-radius:999px;font-weight:700;font-size:12px}

    /* CTA block */
    .cta{background:linear-gradient(90deg,var(--accent2),var(--accent));color:#fff;padding:30px;border-radius:12px;text-align:center;margin-top:34px}
    .cta h3{margin:0 0 8px}

    footer{padding:22px 0;text-align:center;color:var(--muted);font-size:14px;margin-top:22px}

    /* Sticky mobile CTA */
    @media(max-width:768px){
      .sticky-cta{position:fixed;left:10px;right:10px;bottom:env(safe-area-inset-bottom,10px);z-index:1200;border-radius:12px;padding:12px;display:flex;justify-content:center;align-items:center;box-shadow:0 10px 30px rgba(0,0,0,0.18);backdrop-filter:blur(6px)}
      .sticky-cta a{color:#fff;font-weight:800;background:rgba(255,255,255,0.08);padding:10px 18px;border-radius:10px}
      body{padding-bottom:80px} /* ensure content not hidden under sticky */
    }

    /* small devices adjustments */
    @media(max-width:520px){
      .hero h1{font-size:22px}
      .hero p{font-size:15px}
    }

    /* focus outlines for accessibility */
    button:focus, a:focus, input:focus, textarea:focus{outline:3px solid rgba(10,132,255,0.14);outline-offset:3px}
  </style>
</head>
<body>
  <a class="skip-link" href="#main-content">Skip to content</a>

  <header>
    <div class="header-inner container" role="banner">
      <div class="brand" aria-hidden="false">
        <a href="index.html"><img src="images/logo.png" alt="DigiStrive Media logo"></a>
        <div>
          <div style="font-weight:800">DigiStrive Media</div>
          <div style="font-size:13px;color:var(--muted)">Digital Growth — SEO • Web • Paid • Social</div>
        </div>
      </div>

      <nav aria-label="Main navigation">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a class="active" href="portfolio.html">Portfolio</a></li>
          <li><a href="contact.php">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" role="region" aria-label="Portfolio hero">
    <div class="container">
      <h1>Real digital growth — SEO, web & paid campaigns that drive leads</h1>
      <p>Average 3× organic traffic growth in 6 months for our clients — measurable wins you can show to stakeholders.</p>
      <div class="actions" style="margin-top:14px">
        <button class="btn btn-primary" id="heroPrimaryBtn" aria-controls="contact-modal" aria-haspopup="dialog">Start Your Project</button>
        <a class="btn btn-secondary" href="#portfolio-grid" id="heroSecondary">See Projects</a>
      </div>
    </div>
  </section>

  <main id="main-content" class="container" role="main">
    <!-- FILTERS -->
    <div class="filters" role="tablist" aria-label="Filter projects">
      <button class="chip" data-filter="all" aria-pressed="true">All</button>
      <button class="chip" data-filter="real-estate" aria-pressed="false">Real Estate</button>
      <button class="chip" data-filter="ecommerce" aria-pressed="false">E-commerce</button>
      <button class="chip" data-filter="renewable" aria-pressed="false">Renewable</button>
      <button class="chip" data-filter="fnb" aria-pressed="false">F&B</button>
      <button class="chip" data-filter="healthcare" aria-pressed="false">Healthcare</button>
      <button class="chip" data-filter="education" aria-pressed="false">Education</button>
      <button class="chip" data-filter="it" aria-pressed="false">IT / Services</button>
    </div>

    <!-- FEATURED CASE STUDIES -->
    <h2 id="featured-title">Featured Case Studies</h2>
    <p class="muted" style="margin-top:6px;margin-bottom:12px">Deep dives that show challenge → approach → measurable outcomes.</p>

    <section class="case-grid" id="case-grid" aria-labelledby="featured-title">
      <!-- A4Realty -->
      <article class="case" data-category="real-estate" tabindex="0">
        <div class="media"><img src="finalized-images/a4realty.png" alt="A4Realty homepage screenshot"></div>
        <div class="case-body">
          <span class="badge">SEO & Content</span>
          <h3>A4Realty — Real Estate Lead Growth</h3>
          <p class="muted">Local SEO, listing schema and better inquiry UX produced higher-quality leads for a property platform.</p>
          <div class="metrics" aria-hidden="false">
            <div class="metric">+200% <div style="font-size:12px;color:var(--muted)">Traffic (6m)</div></div>
            <div class="metric">120+ <div style="font-size:12px;color:var(--muted)">Leads / month</div></div>
            <div class="metric">+30% <div style="font-size:12px;color:var(--muted)">Lead→Viewing</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://www.a4realty.in/" data-project="A4Realty" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="A4Realty">Discuss Growth</button>
          </div>
        </div>
      </article>

      <!-- Nalnad Coffee -->
      <article class="case" data-category="ecommerce" tabindex="0">
        <div class="media"><img src="finalized-images/nalnad-coffee.png" alt="Nalnad Coffee store screenshot"></div>
        <div class="case-body">
          <span class="badge">E-commerce</span>
          <h3>Nalnad Coffee — Productized E-commerce</h3>
          <p class="muted">Checkout optimization, product SEO and retention automations to scale online orders.</p>
          <div class="metrics">
            <div class="metric">+150% <div style="font-size:12px;color:var(--muted)">Orders (6m)</div></div>
            <div class="metric">+40% <div style="font-size:12px;color:var(--muted)">Checkout conv.</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://nalnadcoffee.com/" data-project="Nalnad Coffee" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="Nalnad Coffee">Get a similar store</button>
          </div>
        </div>
      </article>

      <!-- Sunbee Synergy -->
      <article class="case" data-category="renewable" tabindex="0">
        <div class="media"><img src="finalized-images/sunbee-synergy.png" alt="Sunbee Synergy screenshot"></div>
        <div class="case-body">
          <span class="badge">B2B • Renewable</span>
          <h3>Sunbee Synergy — Enterprise Lead Growth</h3>
          <p class="muted">Technical briefs, ROI calculators and RFQ funnel to attract enterprise buyers and shorten sales cycles.</p>
          <div class="metrics">
            <div class="metric">+300% <div style="font-size:12px;color:var(--muted)">Inquiries (12m)</div></div>
            <div class="metric">+120% <div style="font-size:12px;color:var(--muted)">Qualified leads</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://www.sunbeesynergy.com/" data-project="Sunbee Synergy" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="Sunbee Synergy">Request Quote</button>
          </div>
        </div>
      </article>

      <!-- Mastrolee -->
      <article class="case" data-category="fnb" tabindex="0" id="mastrolee">
        <div class="media"><img src="finalized-images/mastrolee.png" alt="Mastrolee placeholder screenshot"></div>
        <div class="case-body">
          <span class="badge">F&B • Social</span>
          <h3>Mastrolee — Restaurant Social Growth</h3>
          <p class="muted">Local promos, UGC and reservation funnels to increase bookings and engagement.</p>
          <div class="metrics">
            <div class="metric">+175% <div style="font-size:12px;color:var(--muted)">Bookings</div></div>
            <div class="metric">+50% <div style="font-size:12px;color:var(--muted)">Engagement</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="#" data-project="Mastrolee">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="Mastrolee">Discuss F&B growth</button>
          </div>
        </div>
      </article>

      <!-- Tai Tai Creamery -->
      <article class="case" data-category="fnb" tabindex="0">
        <div class="media"><img src="finalized-images/tai-tai-creamery.png" alt="Tai Tai Creamery screenshot"></div>
        <div class="case-body">
          <span class="badge">F&B • Local</span>
          <h3>Tai Tai Creamery — Dessert Launch</h3>
          <p class="muted">Local SEO, influencer seeding and online ordering to boost footfall and orders.</p>
          <div class="metrics">
            <div class="metric">+80% <div style="font-size:12px;color:var(--muted)">Footfall</div></div>
            <div class="metric">+200% <div style="font-size:12px;color:var(--muted)">Online orders</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://www.taitaicreamery.com/" data-project="Tai Tai Creamery" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="Tai Tai Creamery">Start similar campaign</button>
          </div>
        </div>
      </article>

      <!-- NuLife Behavioral Health -->
      <article class="case" data-category="healthcare" tabindex="0">
        <div class="media"><img src="finalized-images/nulifebehavioralhealth.png" alt="NuLife Behavioral Health screenshot"></div>
        <div class="case-body">
          <span class="badge">Healthcare</span>
          <h3>NuLife Behavioral Health — Multi-clinic Growth</h3>
          <p class="muted">Program pages, local SEO & PPC to drive appointment requests across multiple clinics.</p>
          <div class="metrics">
            <div class="metric">+250% <div style="font-size:12px;color:var(--muted)">Consultation requests</div></div>
            <div class="metric">5+ <div style="font-size:12px;color:var(--muted)">Clinics</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://nulifebehavioralhealth.com/" data-project="NuLife Behavioral Health" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="NuLife Behavioral Health">Talk to an expert</button>
          </div>
        </div>
      </article>

      <!-- MindForge Infotech -->
      <article class="case" data-category="education" tabindex="0">
        <div class="media"><img src="finalized-images/mindforge-infotech.png" alt="MindForge Infotech screenshot"></div>
        <div class="case-body">
          <span class="badge">Education • IT</span>
          <h3>MindForge Infotech — Course & Recruitment Funnel</h3>
          <p class="muted">Outcomes-first pages, better tracking and clearer CTAs to increase registrations.</p>
          <div class="metrics">
            <div class="metric">+300% <div style="font-size:12px;color:var(--muted)">Registrations</div></div>
            <div class="metric">More<div style="font-size:12px;color:var(--muted)">Employer inquiries</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://mindforgeinfotech.com/" data-project="MindForge Infotech" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="MindForge Infotech">Discuss funnels</button>
          </div>
        </div>
      </article>

      <!-- Ashwa Education Consultancy -->
      <article class="case" data-category="education" tabindex="0">
        <div class="media"><img src="finalized-images/ashwa-education-consultancy.png" alt="Ashwa Education Consultancy screenshot"></div>
        <div class="case-body">
          <span class="badge">Education Consultancy</span>
          <h3>Ashwa Education Consultancy — Student Lead Machine</h3>
          <p class="muted">Conversion-optimized pages + targeted PPC to deliver qualified student leads.</p>
          <div class="metrics">
            <div class="metric">+200 <div style="font-size:12px;color:var(--muted)">Inquiries / month</div></div>
            <div class="metric">↑ Quality<div style="font-size:12px;color:var(--muted)">Better conversions</div></div>
          </div>
          <div class="cta-row">
            <a class="btn btn-primary view-project" href="https://ashwaeducationconsultancy.com/" data-project="Ashwa Education Consultancy" target="_blank" rel="noopener">View Project</a>
            <button class="btn btn-secondary open-contact" data-source="Ashwa Education Consultancy">Get student leads</button>
          </div>
        </div>
      </article>
    </section>

    <!-- Portfolio Grid (summary) -->
    <h2 id="portfolio-grid" style="margin-top:32px">Project Portfolio</h2>
    <p class="muted">Quick links to the live projects we delivered — click to view.</p>

    <section class="portfolio-grid" aria-labelledby="portfolio-grid">
      <article class="project" data-category="real-estate">
        <a href="https://www.a4realty.in/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/a4realty.png" alt="A4Realty — property listings">
          <div class="meta"><h4>A4Realty</h4><p class="muted">Premium property listings & lead generation</p><div class="tags"><span class="tag">Real Estate</span></div></div>
        </a>
      </article>

      <article class="project" data-category="ecommerce">
        <a href="https://nalnadcoffee.com/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/nalnad-coffee.png" alt="Nalnad Coffee — e-commerce">
          <div class="meta"><h4>Nalnad Coffee</h4><p class="muted">Specialty coffee e-commerce</p><div class="tags"><span class="tag">E-commerce</span></div></div>
        </a>
      </article>

      <article class="project" data-category="renewable">
        <a href="https://www.sunbeesynergy.com/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/sunbee-synergy.png" alt="Sunbee Synergy — renewable solutions">
          <div class="meta"><h4>Sunbee Synergy</h4><p class="muted">Solar & wind energy solutions</p><div class="tags"><span class="tag">Renewable</span></div></div>
        </a>
      </article>

      <article class="project" data-category="fnb">
        <a href="#" class="project-link" rel="noopener">
          <img src="finalized-images/mastrolee.png" alt="Mastrolee — restaurant growth">
          <div class="meta"><h4>Mastrolee</h4><p class="muted">Restaurant social & booking campaigns</p><div class="tags"><span class="tag">F&B</span></div></div>
        </a>
      </article>

      <article class="project" data-category="fnb">
        <a href="https://www.taitaicreamery.com/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/tai-tai-creamery.png" alt="Tai Tai Creamery — dessert brand">
          <div class="meta"><h4>Tai Tai Creamery</h4><p class="muted">Dessert brand launch & local SEO</p><div class="tags"><span class="tag">F&B</span></div></div>
        </a>
      </article>

      <article class="project" data-category="healthcare">
        <a href="https://nulifebehavioralhealth.com/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/nulifebehavioralhealth.png" alt="NuLife Behavioral Health">
          <div class="meta"><h4>NuLife Behavioral Health</h4><p class="muted">Clinic programs & appointment growth</p><div class="tags"><span class="tag">Healthcare</span></div></div>
        </a>
      </article>

      <article class="project" data-category="education">
        <a href="https://mindforgeinfotech.com/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/mindforge-infotech.png" alt="MindForge Infotech">
          <div class="meta"><h4>MindForge Infotech</h4><p class="muted">Course funnels & registrations</p><div class="tags"><span class="tag">Education</span></div></div>
        </a>
      </article>

      <article class="project" data-category="education">
        <a href="https://ashwaeducationconsultancy.com/" target="_blank" class="project-link" rel="noopener">
          <img src="finalized-images/ashwa-education-consultancy.png" alt="Ashwa Education Consultancy">
          <div class="meta"><h4>Ashwa Education Consultancy</h4><p class="muted">Student lead generation</p><div class="tags"><span class="tag">Education</span></div></div>
        </a>
      </article>
    </section>

    <!-- CTA -->
    <div class="cta" role="region" aria-label="Contact CTA" style="margin-top:28px">
      <h3>Ready to become our next success story?</h3>
      <p class="muted" style="color:rgba(255,255,255,0.9)">Book a free 15-minute audit and we’ll map the top 3 growth opportunities for your business.</p>
      <div style="margin-top:12px">
        <button class="btn btn-primary open-contact">Start Your Project</button>
        <a class="btn btn-secondary" href="about.html" style="margin-left:10px">Learn More</a>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p style="margin:0;color:var(--muted)">&copy; 2025 DigiStrive Media — SEO • Web • Social • Paid</p>
    </div>
  </footer>

  <!-- Sticky mobile CTA (opens modal) -->
  <div class="sticky-cta" style="display:none" id="mobileSticky">
    <a href="#" id="stickyBtn">📩 Start Your Project</a>
  </div>

  <!-- Contact Modal (accessible) -->
  <div id="contact-modal" role="dialog" aria-modal="true" aria-hidden="true" style="display:none;position:fixed;inset:0;z-index:1400;align-items:center;justify-content:center;padding:20px;">
    <div style="position:absolute;inset:0;background:rgba(2,6,23,0.6);backdrop-filter:blur(2px)" id="modal-backdrop"></div>
    <div role="document" style="position:relative;max-width:640px;width:100%;background:#fff;border-radius:12px;box-shadow:0 20px 60px rgba(2,6,23,0.25);overflow:hidden">
      <div style="display:flex;justify-content:space-between;align-items:center;padding:18px 20px;border-bottom:1px solid #f1f3f5">
        <h3 style="margin:0;font-size:18px">Start your project</h3>
        <button id="modalClose" aria-label="Close contact form" style="background:none;border:none;font-size:20px;cursor:pointer">✕</button>
      </div>
      <form id="leadForm" style="padding:18px 20px;display:grid;gap:12px">
        <input type="hidden" name="source" id="leadSource" value="">
        <label style="font-weight:700;font-size:13px">Your email <span style="color:#d00">*</span>
          <input name="email" id="leadEmail" required type="email" placeholder="you@company.com" style="width:100%;padding:10px;border:1px solid #e6e9ee;border-radius:8px"/>
        </label>
        <label style="font-weight:700;font-size:13px">Full name (optional)
          <input name="name" id="leadName" type="text" placeholder="Full name" style="width:100%;padding:10px;border:1px solid #e6e9ee;border-radius:8px"/>
        </label>
        <label style="font-weight:700;font-size:13px">Briefly describe your goal <span style="color:#d00">*</span>
          <textarea name="goal" id="leadGoal" required rows="4" placeholder="e.g., want to increase monthly leads from 10 → 50" style="width:100%;padding:10px;border:1px solid #e6e9ee;border-radius:8px"></textarea>
        </label>

        <div style="display:flex;gap:10px;align-items:center">
          <button class="btn btn-primary" type="submit" id="leadSubmit">Send request</button>
          <button type="button" id="leadCancel" style="background:transparent;border:1px solid #e6e9ee;padding:10px;border-radius:8px;cursor:pointer">Cancel</button>
          <div id="leadStatus" style="margin-left:auto;color:var(--muted);font-size:14px"></div>
        </div>
      </form>
    </div>
  </div>

  <script>
    (() => {
      // Helpers: gtag wrapper
      const sendEvent = (name, data={}) => {
        console.log('event:', name, data);
        if(window.gtag) try{ window.gtag('event', name, data);}catch(e){}
      };

      // Elements
      const chips = Array.from(document.querySelectorAll('.chip'));
      const cases = Array.from(document.querySelectorAll('.case'));
      const projects = Array.from(document.querySelectorAll('.project'));
      const viewLinks = Array.from(document.querySelectorAll('.view-project'));
      const openContactBtns = Array.from(document.querySelectorAll('.open-contact'));
      const heroPrimaryBtn = document.getElementById('heroPrimaryBtn');
      const sticky = document.getElementById('mobileSticky');
      const stickyBtn = document.getElementById('stickyBtn');

      // Update filter counts (append number to chip label if missing)
      function updateFilterCounts(){
        const categoryList = ['real-estate','ecommerce','renewable','fnb','healthcare','education','it'];
        const allCount = cases.length + projects.length; // rough counts (used just for display)
        // We'll count case studies + portfolio that match categories (case-insensitive)
        chips.forEach(ch => {
          const key = ch.dataset.filter;
          if(key==='all') {
            // keep label as All
            ch.textContent = 'All';
            return;
          }
          const countCases = Array.from(document.querySelectorAll('[data-category="'+key+'"]')).length;
          ch.textContent = ch.textContent.split(' (')[0] + ' (' + countCases + ')';
        });
      }

      // Filtering function
      function applyFilter(filterKey){
        // update chip aria-pressed
        chips.forEach(ch => {
          const pressed = ch.dataset.filter === filterKey;
          ch.setAttribute('aria-pressed', pressed ? 'true' : 'false');
        });

        // show/hide the case cards & project cards
        const allItems = Array.from(document.querySelectorAll('[data-category]'));
        allItems.forEach(el => {
          if(filterKey === 'all') el.style.display = '';
          else el.style.display = (el.dataset.category === filterKey) ? '' : 'none';
        });
      }

      // wire up chips
      chips.forEach((ch, index) => {
        ch.addEventListener('click', () => {
          const key = ch.dataset.filter;
          applyFilter(key);
          sendEvent('filter_select', {filter: key});
        });
        // keyboard navigation
        ch.addEventListener('keydown', (e) => {
          if(e.key === 'ArrowLeft' || e.key === 'ArrowRight'){
            const dir = e.key === 'ArrowLeft' ? -1 : 1;
            const next = chips[(index + dir + chips.length) % chips.length];
            next.focus();
          }
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            ch.click();
          }
        });
      });

      // open contact modal logic
      const modal = document.getElementById('contact-modal');
      const modalBackdrop = document.getElementById('modal-backdrop');
      const modalClose = document.getElementById('modalClose');
      const leadForm = document.getElementById('leadForm');
      const leadStatus = document.getElementById('leadStatus');
      const leadSource = document.getElementById('leadSource');

      function openModal(source){
        leadStatus.textContent = '';
        leadForm.reset();
        leadSource.value = source || '';
        modal.style.display = 'flex';
        modal.setAttribute('aria-hidden','false');
        // focus first input
        setTimeout(()=>document.getElementById('leadEmail').focus(),120);
        sendEvent('modal_open', {source});
      }
      function closeModal(){
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden','true');
        sendEvent('modal_close', {});
      }

      // open via hero
      heroPrimaryBtn && heroPrimaryBtn.addEventListener('click', () => {
        openModal('hero');
        sendEvent('cta_hero_click', {label:'Start Your Project (hero)'});
      });

      // open via sticky
      stickyBtn && stickyBtn.addEventListener('click', (e) => {
        e.preventDefault();
        openModal('sticky');
        sendEvent('cta_sticky_click', {});
      });

      // open via .open-contact (buttons in cards)
      openContactBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
          const src = btn.dataset.source || 'card';
          openModal(src);
          sendEvent('cta_card_click', {source: src});
        });
      });

      // view project event
      viewLinks.forEach(a => {
        a.addEventListener('click', () => {
          const project = a.dataset.project || a.getAttribute('href') || 'project';
          sendEvent('project_view', {project});
        });
      });

      // modal close events
      modalClose.addEventListener('click', closeModal);
      modalBackdrop.addEventListener('click', closeModal);
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape' && modal.style.display === 'flex') closeModal(); });

      // form submit
      leadForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        leadStatus.textContent = 'Sending...';
        const email = document.getElementById('leadEmail').value.trim();
        const name = document.getElementById('leadName').value.trim();
        const goal = document.getElementById('leadGoal').value.trim();
        const source = leadSource.value || 'portfolio';

        // basic email validation
        const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if(!emailRe.test(email)){
          leadStatus.textContent = 'Please enter a valid email.';
          return;
        }
        try {
          const payload = { email, name, goal, source, url: window.location.href, sentAt: new Date().toISOString()};
          // POST to /api/leads (mock okay if not present)
          const res = await fetch('/api/leads', {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify(payload)
          });
          if(res.ok){
            leadStatus.textContent = 'Thanks — we received your request. We will contact you soon.';
            sendEvent('lead_submitted', {source});
            // close modal after a short delay
            setTimeout(()=>closeModal(),1200);
          } else {
            // non-200 response — still inform user
            const errText = await res.text().catch(()=>res.statusText || 'Error');
            leadStatus.textContent = 'Request saved locally (server returned error).';
            console.warn('Lead post error:', res.status, errText);
            sendEvent('lead_submitted', {source, success:false});
          }
        } catch(err){
          console.warn('Lead submit failed', err);
          leadStatus.textContent = 'Network error — saved locally. We will retry.';
          sendEvent('lead_submitted', {source, success:false});
        }
      });

      // cancel button
      document.getElementById('leadCancel').addEventListener('click', closeModal);

      // image fallback (replace broken images with inline SVG)
      const imgs = document.querySelectorAll('img');
      imgs.forEach(img => {
        img.addEventListener('error', function(){
          if(this.dataset.fallback) return;
          this.dataset.fallback = '1';
          this.style.objectFit = 'contain';
          const svg = '<svg xmlns="http://www.w3.org/2000/svg" width="800" height="450"><rect width="100%" height="100%" fill="#eef4f8"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#8b9aa8" font-family="Arial" font-size="18">Image not found</text></svg>';
          this.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
        });
      });

      // show sticky CTA only on mobile
      function checkSticky(){
        const w = window.innerWidth || document.documentElement.clientWidth;
        if(w <= 768){
          sticky.style.display = 'block';
        } else {
          sticky.style.display = 'none';
        }
      }
      window.addEventListener('resize', checkSticky);
      checkSticky();

      // initial filter counts and ensure 'all' active
      updateFilterCounts();
      applyFilter('all');

      // attach project card clicks to log project_view
      document.querySelectorAll('.project-link').forEach(a => {
        a.addEventListener('click', () => {
          const title = a.querySelector('.meta h4')?.textContent || a.href;
          sendEvent('project_view', {project: title});
        });
      });

      // Accessibility: focus visible handling for keyboard users only (improves outline)
      document.addEventListener('keydown', function(e){
        if(e.key === 'Tab') document.body.classList.add('user-is-tabbing');
      });

      // make chips tabbable and keyboard accessible
      document.querySelectorAll('.chip').forEach(ch=>ch.setAttribute('tabindex','0'));

    })();
  </script>
</body>
</html>
